<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>State Capitals Quiz</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 0px;
        background-color: #f0f8ff;
    }
    h1 {
        color: #003366;
    }
    #gameArea {
        margin-top: 20px;
    }
    img {
        width: auto;
        max-height: 250px;
        border: 2px solid #ccc;
        padding: 5px;
        background-color: white;
    }
    select, button {
        font-size: 20px;
        margin: 5px;
        padding: 5px 10px;
    }
    #message {
        font-weight: bold;
        margin-top: 10px;
    }
    #message2 {
        font-weight: bold;
        margin-top: 10px;
    }
    /* Watermark container */
    .watermark {
      position: fixed;        /* stays in place on scroll */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('GenericCapital.jpeg') center/contain no-repeat;
      opacity: 0.2;          /* controls fade */
      z-index: -1;            /* put behind everything */
      pointer-events: none;   /* clicks pass through */
    }
</style>
</head>
<body>
<h1>State Capitals Quiz</h1>

<!-- Watermark layer -->
<div class="watermark"></div>

<button id="startBtn">Start Game</button>

<div id="levelBox" style="display:none";>
    <button id="level1">1</button>
    <button id="level2">2</button>
    <button id="level3">3</button>
    <button id="level4">4</button>
</div>

<div id="gameArea" style="display:none;">
    <div>
        <img id="stateImage" alt="State Outline" >
    </div>
    <div id="message"></div>
    <div>
        <label for="stateSelect">Select the state:</label>
        <select id="stateSelect"></select>
        <button id="submitStateBtn">Submit</button>
    </div>
    <div>
        <label for="capitalSelect">Select the capital:</label>
        <select id="capitalSelect"></select>
        <button id="submitCapitalBtn">Submit</button>
    </div>
    <div id="message2"></div>
    <div>
        <button id="mapBtn">US Map</button>
        <img id="USmap" alt="USmap"  hidden>
    </div>    
</div>

<script>
// List of states and capitals
const statesAndCapitals = [
    { state: "Alabama", capital: "Montgomery" },
    { state: "Alaska", capital: "Juneau" },
    { state: "Arizona", capital: "Phoenix" },
    { state: "Arkansas", capital: "Little Rock" },
    { state: "California", capital: "Sacramento" },
    { state: "Colorado", capital: "Denver" },
    { state: "Connecticut", capital: "Hartford" },
    { state: "Delaware", capital: "Dover" },
    { state: "Florida", capital: "Tallahassee" },
    { state: "Georgia", capital: "Atlanta" },
    { state: "Hawaii", capital: "Honolulu" },
    { state: "Idaho", capital: "Boise" },
    { state: "Illinois", capital: "Springfield" },
    { state: "Indiana", capital: "Indianapolis" },
    { state: "Iowa", capital: "Des Moines" },
    { state: "Kansas", capital: "Topeka" },
    { state: "Kentucky", capital: "Frankfort" },
    { state: "Louisiana", capital: "Baton Rouge" },
    { state: "Maine", capital: "Augusta" },
    { state: "Maryland", capital: "Annapolis" },
    { state: "Massachusetts", capital: "Boston" },
    { state: "Michigan", capital: "Lansing" },
    { state: "Minnesota", capital: "Saint Paul" },
    { state: "Mississippi", capital: "Jackson" },
    { state: "Missouri", capital: "Jefferson City" },
    { state: "Montana", capital: "Helena" },
    { state: "Nebraska", capital: "Lincoln" },
    { state: "Nevada", capital: "Carson City" },
    { state: "New Hampshire", capital: "Concord" },
    { state: "New Jersey", capital: "Trenton" },
    { state: "New Mexico", capital: "Santa Fe" },
    { state: "New York", capital: "Albany" },
    { state: "North Carolina", capital: "Raleigh" },
    { state: "North Dakota", capital: "Bismarck" },
    { state: "Ohio", capital: "Columbus" },
    { state: "Oklahoma", capital: "Oklahoma City" },
    { state: "Oregon", capital: "Salem" },
    { state: "Pennsylvania", capital: "Harrisburg" },
    { state: "Rhode Island", capital: "Providence" },
    { state: "South Carolina", capital: "Columbia" },
    { state: "South Dakota", capital: "Pierre" },
    { state: "Tennessee", capital: "Nashville" },
    { state: "Texas", capital: "Austin" },
    { state: "Utah", capital: "Salt Lake City" },
    { state: "Vermont", capital: "Montpelier" },
    { state: "Virginia", capital: "Richmond" },
    { state: "Washington", capital: "Olympia" },
    { state: "West Virginia", capital: "Charleston" },
    { state: "Wisconsin", capital: "Madison" },
    { state: "Wyoming", capital: "Cheyenne" }
];

let level = 1;

let currentState = null;
let currentCapital = null;
    
const noDups = 25
var previous = new Array(noDups).fill(-1);
var randomIndex = -2;

document.getElementById('level1').addEventListener('click', setLevel1);
document.getElementById('level2').addEventListener('click', setLevel2);
document.getElementById('level3').addEventListener('click', setLevel3);
document.getElementById('level4').addEventListener('click', setLevel4);

function setLevel1() {
    level = 1;
    startGame();
}function setLevel2() {
    level = 2;
    startGame();
}function setLevel3() {
    level = 3;
    startGame();
}function setLevel4() {
    level = 4;
    startGame();
}

document.getElementById('startBtn').addEventListener('click', startGame);

function startGame() {  
    //document.getElementById('levelBox').style.display = 'none';

    document.getElementById("startBtn").hidden = true;

    document.getElementById('message').textContent = '';
    document.getElementById('message2').textContent = '';
    document.getElementById('gameArea').style.display = 'block';

    // Fill dropdown with states in alphabetical order
    select = document.getElementById('stateSelect');
    select.innerHTML = '';
    const sortedStates = [...statesAndCapitals].sort((a, b) => 
        a.state.localeCompare(b.state)
    );
    sortedStates.forEach(item => {
        const opt = document.createElement('option');
        opt.value = item.state;
        opt.textContent = item.state;
        select.appendChild(opt);
    });

    // Fill dropdown with capitals in alphabetical order
    select = document.getElementById('capitalSelect');
    select.innerHTML = '';
    const sortedCapitals = [...statesAndCapitals].sort((a, b) => 
        a.capital.localeCompare(b.capital)
    );
    sortedCapitals.forEach(item => {
        const opt = document.createElement('option');
        opt.value = item.capital;
        opt.textContent = item.capital;
        select.appendChild(opt);
    });

    // Pick random state
    do{
        randomIndex = Math.floor(Math.random() * statesAndCapitals.length);
    } while( previous.includes(randomIndex) )
    
    for( let i = 0; i < noDups - 1; i++){
        previous[i] = previous[i+1];
    }
    previous[noDups-1] = randomIndex;
   
    const selected = statesAndCapitals[randomIndex];    
    currentState = selected.state;
    currentCapital = selected.capital;

    // Image file name format: lowercase, spaces -> underscores
    const imageFile = "images/" + currentState.replace(/ /g, "-") + ".jpg";
    document.getElementById('stateImage').src = imageFile;
    document.getElementById('stateImage').alt = currentState + " outline";
}

// Display US map if requested
document.getElementById('mapBtn').addEventListener('click', function() {
    const mapFile = "images/USmap.jpg";
    document.getElementById('USmap').src = mapFile;
    document.getElementById('USmap').alt = "USmap";
    if (document.getElementById("USmap").hidden) {
        document.getElementById("USmap").hidden = false;
    } else {
        document.getElementById("USmap").hidden = true;
    }
});

// Submit answer
document.getElementById('submitStateBtn').addEventListener('click', function() {
    const selectedState = document.getElementById('stateSelect').value;
    if (selectedState === currentState) {
        document.getElementById('message').textContent = "✅ Correct! The state is " + currentState;
    } else {
        document.getElementById('message').textContent = "❌ Wrong! The state is " + currentState;
    }
});

// Submit answer
document.getElementById('submitCapitalBtn').addEventListener('click', function() {

    //alert("currentCapital: " + currentCapital);
    const selectedCapital = document.getElementById('capitalSelect').value;
    //alert("selectedCapital: " + selectedCapital);
    if (selectedCapital === currentCapital) {
        document.getElementById('message2').textContent = "✅ Correct! The capital of " + currentState + " is " + currentCapital;
        //alert("message content:" + document.getElementById('message').textContent);
    } else {
        document.getElementById('message2').textContent = "❌ Wrong! The capital of " + currentState + " is " + currentCapital;
        //alert("message content:" + document.getElementById('message').textContent);
    }

   askPlayAgain();
});

/*
function askPlayAgain() {
   alert("Press OK to continue");
   startGame();
}
*/

function askPlayAgain() {
    setTimeout(() => {
        if (confirm("Play again?")) {
            startGame();
        } else {
            document.getElementById('gameArea').style.display = 'none';
            document.getElementById("startBtn").hidden = false;
            document.getElementById('levelBox').style.display = 'block';
        }
    }, 500);
}

</script>
</body>

</html>















