<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Europe Capitals</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 0px;
        background-color: #f0f8ff;
    }
    h1 {
        color: #003366;        
        text-shadow: 2px 2px 4px gray;
    }
    #gameArea {
        margin-top: 20px;
    }
    img {
        width: auto;
        max-height: 250px;
        border: 2px solid #ccc;
        padding: 5px;
        background-color: white;
    }
    select, button {
        font-size: 20px;
        font-weight: bold;
        margin: 5px;
        padding: 5px 10px;
    }
    #message {
        font-weight: bold;
        margin-top: 10px;
    }
    #message2 {
        font-weight: bold;
        margin-top: 10px;
    }
    #message3 {
        font-weight: bold;
        margin-top: 15px;
    }
    label {
        font-color:red;
    }
    /* Watermark container */
    .watermark {
      position: fixed;        /* stays in place on scroll */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('EuropeCapitalBuildings.jpg') center/contain no-repeat;
      opacity: 0.2;          /* controls fade */
      z-index: -1;            /* put behind everything */
      pointer-events: none;   /* clicks pass through */
    }
</style>
</head>
<body>
<h1 text-shadow: 2px 2px 4px black;>Europe Capitals</h1>

<!-- Watermark layer -->
<div class="watermark"></div>

<button id="startBtn" style="color:red; font-size:30px; border-radius:12px">Start Game</button>
<p></p><p></p>
<a href="file:///C:/Users/Miles/Programming/Javascript/State%20Capitals/capitals.html">Go to State Capitals</a>
<!--
<div id="levelBox" style="display:none";>
    <button id="level1">1</button>
    <button id="level2">2</button>
    <button id="level3">3</button>
    <button id="level4">4</button>
</div>
-->


<div id="gameArea" style="display:none;">
    <div id="message3"></div> 
    <div>
        <img id="EuropeMap" alt="EuropeMap" >
    </div>  
    <div id="message"></div>
    <div>
        <label for="countrySelect">Select the country:</label>
        <select id="countrySelect" style="color:black;"></select>
        <button id="submitCountryBtn" style="color:red; font-size:24px; border-radius:12px">Submit</button>
    </div>
    <div id="message2"></div>  
    <div>
        <label for="capitalSelect">Select the capital:</label>
        <select id="capitalSelect" style="color:black;"></select>
        <button id="submitCapitalBtn" style="color:red; font-size:24px; border-radius:12px">Submit</button>
    </div> 
</div>

<script>
// List of countries and capitals

const countriesAndCapitals = [
   { number: 1, country: "Russia", capital: "Moscow" },
    { number: 2, country: "Finland", capital: "Helsinki" },
    { number: 3, country: "Estonia", capital: "Tallinn" },
    { number: 4, country: "Belarus", capital: "Minsk" },
    { number: 5, country: "Latvia", capital: "Riga" },
    { number: 6, country: "Lithuania", capital: "Vilnius" },
    { number: 7, country: "Ukraine", capital: "Kyiv" },
    { number: 8, country: "Moldova", capital: "Chisinau" },
    { number: 9, country: "Norway", capital: "Oslo" },
    { number: 10, country: "Sweden", capital: "Stockholm" },
    { number: 11, country: "Denmark", capital: "Copenhagen" },
    { number: 12, country: "Poland", capital: "Warsaw" },
    { number: 13, country: "Czechia", capital: "Prague" },
    { number: 14, country: "Slovakia", capital: "Bratislava" },
    { number: 15, country: "Romania", capital: "Bucharest" },
    { number: 16, country: "Bulgaria", capital: "Sofia" },
    { number: 17, country: "Turkey", capital: "Ankara" },
    { number: 18, country: "Cyprus", capital: "Nicosia" },
    { number: 19, country: "Germany", capital: "Berlin" },
    { number: 20, country: "Austria", capital: "Vienna" },
    { number: 21, country: "Hungary", capital: "Budapest" },
    { number: 22, country: "Serbia", capital: "Belgrade" },
    { number: 23, country: "Kosovo", capital: "Pristina" },
    { number: 24, country: "Macedonia", capital: "Skopje" },
    { number: 25, country: "Greece", capital: "Athens" },
    { number: 26, country: "Slovenia", capital: "Ljubljana" },
    { number: 27, country: "Croatia", capital: "Zagreb" },
    { number: 28, country: "Bosnia and Herzegovina", capital: "Sarajevo" },
    { number: 29, country: "Montenegro", capital: "Podgorica" },
    { number: 30, country: "Albania", capital: "Tirana" },
    { number: 31, country: "Iceland", capital: "ReykjavÃ­k" },
    { number: 32, country: "Netherlands", capital: "Amsterdam" },
    { number: 33, country: "Belgium", capital: "Brussels" },
    { number: 34, country: "Switzerland", capital: "Bern" },
    { number: 35, country: "San Marino", capital: "San Marino" },
    { number: 36, country: "Italy", capital: "Rome" },
    { number: 37, country: "Vatican City", capital: "Vatican City" },
    { number: 38, country: "Malta", capital: "Valletta" },
    { number: 39, country: "Ireland", capital: "Dublin" },
    { number: 40, country: "United Kingdom", capital: "London" },
    { number: 41, country: "Luxembourg", capital: "Luxembourg" },
    { number: 42, country: "Liechtenstein", capital: "Vaduz" },
    { number: 43, country: "France", capital: "Paris" },
    { number: 44, country: "Monaco", capital: "Monaco" },
    { number: 45, country: "Andorra", capital: "Andorra la Vella" },
    { number: 46, country: "Portugal", capital: "Lisbon" },
    { number: 47, country: "Spain", capital: "Madrid" }

];

let level = 1;

let currentCountry = null;
let currentCapital = null;
    
const noDups = 25
var previous = new Array(noDups).fill(-1);
var randomIndex = -2;

 /*
document.getElementById('level1').addEventListener('click', setLevel1);
document.getElementById('level2').addEventListener('click', setLevel2);
document.getElementById('level3').addEventListener('click', setLevel3);
document.getElementById('level4').addEventListener('click', setLevel4);

function setLevel1() {
    level = 1;
    startGame();
}function setLevel2() {
    level = 2;
    startGame();
}function setLevel3() {
    level = 3;
    startGame();
}function setLevel4() {
    level = 4;
    startGame();
}
*/

document.getElementById('startBtn').addEventListener('click', startGame);

function startGame() {  
    //document.getElementById('levelBox').style.display = 'none';

    document.getElementById("startBtn").hidden = true;

    document.getElementById('message').textContent = '';
    document.getElementById('message2').textContent = '';
    document.getElementById('message3').textContent = 'delete this';
    document.getElementById('gameArea').style.display = 'block';

    // Fill dropdown with countries in alphabetical order
    select = document.getElementById('countrySelect');
    select.innerHTML = '';
    const sortedSCountries = [...countriesAndCapitals].sort((a, b) => 
        a.country.localeCompare(b.country)
    );
    sortedSCountries.forEach(item => {
        const opt = document.createElement('option');
        opt.value = item.country;
        opt.textContent = item.country;
        select.appendChild(opt);
    });

    // Fill dropdown with capitals in alphabetical order
    select = document.getElementById('capitalSelect');
    select.innerHTML = '';
    const sortedCapitals = [...countriesAndCapitals].sort((a, b) => 
        a.capital.localeCompare(b.capital)
    );
    sortedCapitals.forEach(item => {
        const opt = document.createElement('option');
        opt.value = item.capital;
        opt.textContent = item.capital;
        select.appendChild(opt);
    });

    // Pick random country
    do{
        randomIndex = Math.floor(Math.random() * countriesAndCapitals.length);
    } while( previous.includes(randomIndex) )
    
    for( let i = 0; i < noDups - 1; i++){
        previous[i] = previous[i+1];
    }
    previous[noDups-1] = randomIndex;
   
    const selected = countriesAndCapitals[randomIndex];    
    currentCountry = selected.country;
    currentCapital = selected.capital;
    currentNumber = selected.number;
    //alert("currentNumber: " + currentNumber);

    /*
    // Image file name format: lowercase, spaces -> underscores
    const imageFile = "images/" + currentCountry.replace(/ /g, "-") + ".jpg";
    document.getElementById('countryImage').src = imageFile;
    document.getElementById('countryImage').alt = currentCountry + " outline";
    */


// Display Europe map 
    const mapFile = "images/EuropeMap.jpg";
    document.getElementById('EuropeMap').src = mapFile;
    document.getElementById('EuropeMap').alt = "EuropeMap";
//Display selected country number
    document.getElementById('message3').textContent = "Country is #" + currentNumber;
    //alert(document.getElementById('message3').textContent);
};


// Submit answer
document.getElementById('submitCountryBtn').addEventListener('click', function() {
    const selectedCountry = document.getElementById('countrySelect').value;
    if (selectedCountry === currentCountry) {
        document.getElementById('message').textContent = "✅ Correct! The country is " + currentCountry;
    } else {
        document.getElementById('message').textContent = "❌ Wrong! The country is " + currentCountry;
    }
});

// Submit answer
document.getElementById('submitCapitalBtn').addEventListener('click', function() {

    //alert("currentCapital: " + currentCapital);
    const selectedCapital = document.getElementById('capitalSelect').value;
    //alert("selectedCapital: " + selectedCapital);
    if (selectedCapital === currentCapital) {
        document.getElementById('message2').textContent = "✅ Correct! The capital of " + currentCountry + " is " + currentCapital;
        //alert("message content:" + document.getElementById('message').textContent);
    } else {
        document.getElementById('message2').textContent = "❌ Wrong! The capital of " + currentCountry + " is " + currentCapital;
        //alert("message content:" + document.getElementById('message').textContent);
    }

   askPlayAgain();
});

/*
function askPlayAgain() {
   alert("Press OK to continue");
   startGame();
}
*/

function askPlayAgain() {
    setTimeout(() => {
        if (confirm("Play again?")) {
            startGame();
        } else {
            document.getElementById('gameArea').style.display = 'none';
            document.getElementById("startBtn").hidden = false;
            document.getElementById('levelBox').style.display = 'none';
        }
    }, 500);
}

</script>
</body>

</html>















